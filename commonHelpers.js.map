{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/fetchAPI.js","../src/js/bookCardTemplate.js","../src/js/renderCategory.js","../src/js/localStorage.js","../src/js/bestsellers.js","../src/js/category-list.js","../src/js/home.js","../src/js/modal-window.js","../src/js/themechange.js"],"sourcesContent":["//Theme switcher in header\n\nconst themeSwitch = document.getElementById('themeSwitch');\n\nthemeSwitch.addEventListener('change', function () {\n  const logoIcon = document.querySelector('.logo-icon use');\n  if (this.checked) {\n    logoIcon.setAttribute('href', '../img/icons.svg#icon-logo-dark');\n  } else {\n    logoIcon.setAttribute('href', '../img/icons.svg#icon-logo-light');\n  }\n});\n\n// When loading the page, we check the saved topic\nwindow.addEventListener('DOMContentLoaded', function () {\n  const currentTheme = localStorage.getItem('theme');\n  if (currentTheme) {\n    document.body.classList.add(currentTheme);\n    if (currentTheme === 'dark-theme') {\n      themeSwitch.checked = true;\n    }\n  }\n});\n\n// When the switch state changes\nthemeSwitch.addEventListener('change', function () {\n  if (this.checked) {\n    document.body.classList.add('dark-theme');\n    document.body.classList.remove('light-theme');\n    localStorage.setItem('theme', 'dark-theme');\n  } else {\n    document.body.classList.remove('dark-theme');\n    document.body.classList.add('light-theme');\n    localStorage.setItem('theme', 'light-theme');\n  }\n});\n\n// const homeLink = document.querySelector('.nav-menu');\n// export let currentUrl = window.location.href;\n// const links = homeLink.getElementsByTagName('a');\n// function currentPage() {\n//   for (let i = 0; i < links.length; i++) {\n//     if (links[i].href === currentUrl) {\n//       links[i].classList.add('current');\n//     }\n//   }\n// }\n\n// currentPage();\n\n// export const buttonClose = document.querySelector('.btn-close');\n// export const buttonMenu = document.querySelector('.burger-menu');\n// const modalMenu = document.querySelector('.menu-section');\n// import { currentUrl } from './header';\n// const shoppingListPage = document.querySelector('.nav-shopping');\n// const homeListPage = document.querySelector('.nav-home');\n// console.log(shoppingListPage);\n// buttonMenu.addEventListener('click', openModalMenu);\n// buttonClose.addEventListener('click', closeModalMenu);\n\n// function closeModalMenu() {\n//   modalMenu.classList.remove('is-open');\n//   modalMenu.classList.add('hidden');\n//   buttonMenu.classList.remove('hidden');\n//   buttonClose.classList.add('hidden');\n// }\n\n// function openModalMenu() {\n//   modalMenu.classList.add('is-open');\n//   modalMenu.classList.remove('hidden');\n//   buttonMenu.classList.add('hidden');\n//   buttonClose.classList.remove('hidden');\n// }\n\n// mob-menu current page//\n// function mobMenuOnCurrentPage() {\n//   if (shoppingListPage.href === currentUrl) {\n//     buttonClose.classList.add('hidden');\n//     modalMenu.classList.add('hidden');\n//     buttonMenu.classList.remove('hidden');\n//     buttonMenu.addEventListener('click', openModalMenu);\n//   }\n\n//   if (homeListPage.href === currentUrl) {\n//     buttonClose.classList.add('hidden');\n//     modalMenu.classList.add('hidden');\n//     buttonMenu.classList.remove('hidden');\n//     buttonMenu.addEventListener('click', openModalMenu);\n//   }\n// }\n// mobMenuOnCurrentPage();\n\n\n// const buttonMenu = document.querySelector('.burger-menu');\n// const modalMenu = document.querySelector('.menu-section');\n// const buttonClose = document.querySelector('.btn-close');\n\nexport const buttonClose = document.querySelector('.btn-close');\nexport const buttonMenu = document.querySelector('.burger-menu');\nconst modalMenu = document.querySelectorAll('.menu-section');\n\n\n//Functionality for opening the mobile menu\nfunction openMobileMenu() {\n  \n  buttonMenu.classList.add('hidden');\n  buttonClose.classList.remove('hidden');\n  \n  modalMenu.forEach((element) => {\n    element.style.display = 'block';\n    element.classList.add('is-open');\n  });\n}\n\nbuttonMenu.addEventListener('click', openMobileMenu);\n\n\n// Function to close the mobile menu\nfunction closeMobileMenu() {\n  buttonMenu.classList.remove('hidden');\n  buttonClose.classList.add('hidden');\n  modalMenu.forEach((element) => {\n    element.style.display = 'none';\n    element.classList.remove('is-open');\n  })\n}\n\n// Bind a click event handler to the close button\nbuttonClose.addEventListener('click', closeMobileMenu);","import axios from 'axios';\n\nexport class BooksAPI {\n  constructor() {\n    this.BASE_URL = 'https://books-backend.p.goit.global/books';\n    this.TOP_BOOKS_ENDPOINT = '/top-books';\n    this.CATEGORY_ENDPOINT = '/category?category=';\n    this.CATEGORY_LIST_ENDPOINT = '/category-list';\n  }\n\n  //==== Метод на отримання книг-бестселлерів\n  async getTopBooks() {\n    try {\n      const url = `${this.BASE_URL}${this.TOP_BOOKS_ENDPOINT}`;\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching popular books:', error);\n      throw error;\n    }\n  }\n\n  //==== Метод на отримання книг за категорією\n  async getBooksByCategory(selectedCategory) {\n    try {\n      const url = `${this.BASE_URL}${this.CATEGORY_ENDPOINT}${selectedCategory}`;\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Error fetching books for category '${selectedCategory}':`,\n        error\n      );\n      throw error;\n    }\n  }\n\n  //==== Метод на отримання додаткової інформації про книгу за id\n  async getDetails(bookId) {\n    try {\n      const url = `${this.BASE_URL}/${bookId}`;\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.error(\n        `Error fetching details for book with ID '${bookId}':`,\n        error\n      );\n      throw error;\n    }\n  }\n\n  //==== Метод на отримання списку категорій книг\n  async getCategoryList() {\n    try {\n      const url = `${this.BASE_URL}${this.CATEGORY_LIST_ENDPOINT}`;\n      const response = await axios.get(url);\n\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching category list:', error);\n      throw error;\n    }\n  }\n}\nclass BookAPI {\n  async fetchCategories() {\n    try {\n      // Виконуємо GET-запит на сервер\n      const response = await axios.get(\n        `https://books-backend.p.goit.global/books/category-list`\n      );\n      // Повертаємо дані про категорії\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n      throw error;\n    }\n  }\n\n  async fetchTopCategories() {\n    try {\n      const response = await axios.get(\n        'https://books-backend.p.goit.global/books/top-books'\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching top categories:', error);\n      throw error;\n    }\n  }\n\n  async fetchBooksByCategory(selectedCategory) {\n    try {\n      const response = await axios.get(\n        `https://books-backend.p.goit.global/books/category?category=${selectedCategory}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching books by category:', error);\n      throw error;\n    }\n  }\n\n  async fetchBookById(bookId) {\n    try {\n      const response = await axios.get(\n        `https://books-backend.p.goit.global/books/${bookId}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching book by ID:', error);\n      throw error;\n    }\n  }\n}\n\nexport { BookAPI };\n","// ==== Функція на відмальовку картки з книгою\nexport function createBookCard(elem, i) {\n    let book = `<li class='gallery-book-item'>\n        <a class=\"gallery-book-link js-open-modal\" data-bookid=\"${elem.books[i]._id}\">\n        <div class=\"preview js-open-modal\">\n          <img class=\"gallery-book-img\" data-id=\"${elem.books[i]._id}\" src=\"${elem.books[i].book_image}\" alt=\"${elem.books[i].title}\">\n          <div class=\"actions-card\">\n        <p class=\"action-text\">quick view</p>\n          </div>\n        </div>\n          <div class=\"content\">\n            <h3 class=\"gallery-book-name\">${elem.books[i].title}</h3>\n            <h4 class=\"gallery-book-text\">${elem.books[i].author}</h4>\n          </div>\n        </a>\n    </li>`;\n\n    return book;\n}","import { BooksAPI } from './fetchAPI';\n\nconst booksAPI = new BooksAPI();\n\nexport const elements = {\n  bookList: document.querySelector('.book-list'),\n  topBooksList: document.querySelector('.top-books-list'),\n  booksTitleContainer: document.querySelector('.books-title-container'),\n};\n\n//=== Функція попередньо очищує контент каталогу книг та дістає книги за обраною категорією\nexport function renderCategory(categoryName) {\n  elements.topBooksList.innerHTML = '';\n  elements.booksTitleContainer.innerHTML = '';\n\n  const categoryTitle = document.createElement('h2');\n  categoryTitle.textContent = categoryName;\n  elements.booksTitleContainer.appendChild(categoryTitle);\n\n  booksAPI\n    .getBooksByCategory(categoryName)\n    .then(data => dataCategory(data))\n    .catch(error => console.error('Error fetching top books:', error));\n}\n\n// ==== Функція на відмальовку книг за категорією\nfunction dataCategory(data) {\n  const booksMarkup = data\n    .map(\n      book =>\n        `<li class='gallery-book-item' data-bookid=\"${book._id}\">\n        <a class=\"gallery-book-link\">\n            <div class=\"preview\">\n            <img class=\"gallery-book-img\" data-id=\"${book._id}\" src=\"${book.book_image}\" alt=\"${book.title}\">\n            <div class=\"actions-card\">\n                <p class=\"action-text\">quick view</p>\n            </div>\n            </div>\n            <div class=\"content\">\n            <h3 class=\"gallery-book-name\">${book.title}</h3>\n            <h4 class=\"gallery-book-text\">${book.author}</h4>\n            </div>\n        </a>\n        </li>`\n    )\n    .join('');\n\n  elements.bookList.innerHTML = booksMarkup;\n}\n","const STORAGE_KEY = 'shoppingList';\n\nexport function isBookAlreadyExist(bookId) {\n    const books = loadFromLS();\n    return !!books?.some((book) => {\n        if (book._id === bookId) { \n            return true\n        }\n        return false;\n    });\n}\n\nexport function saveToLS(value) {\n    const storageDefault = [];\n    const books = loadFromLS();\n    if (books) {\n        if (!isBookAlreadyExist(value._id)) {\n            books.push(value);\n        }\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(books));\n    } else {\n        storageDefault.push(value)\n        const jsonData = JSON.stringify(storageDefault);\n        localStorage.setItem(STORAGE_KEY, jsonData);\n    }\n    }\n\nexport function deleteFromLS(bookId) {\n        const books = loadFromLS(STORAGE_KEY);\n    const filteredBooks = books.filter(book => book._id !== bookId); \n    localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredBooks));\n    }\n\nexport function loadFromLS() {\n    const data = localStorage.getItem(STORAGE_KEY);\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}","import { BooksAPI } from './fetchAPI';\nimport { createBookCard } from './bookCardTemplate';\nimport { elements } from './renderCategory';\nimport {\n  isBookAlreadyExist,\n  deleteFromLS,\n  saveToLS,\n  loadFromLS,\n} from './localStorage';\nimport { BookAPI } from './fetchAPI';\n// import sprite from './img/icons.svg'; // Assuming you still need this SVG sprite\n\nconst booksAPI = new BooksAPI();\nconst topBooksList = document.querySelector('.top-books-list');\nconst booksTitleContainer = document.querySelector('.books-title-container');\n\nexport function renderBestsellers() {\n  //====== Записуємо кількість книг до відмальовки з результату функції\n  let limit = calculateLimit(window.innerWidth);\n\n  //===== Запитуємо книги з серверу, передаємо дані в функцію і відмальовуємо\n  booksAPI\n    .getTopBooks()\n    .then(data => dataBestsellers(data, limit))\n    .catch(error => console.error('Error fetching top books:', error));\n}\n\n//==== Вираховуємо кількіть книг до відмальовки, в залежності від ширини екрану\nfunction calculateLimit(screenWidth) {\n  if (screenWidth >= 1440) {\n    return 5;\n  } else if (screenWidth >= 768) {\n    return 3;\n  } else {\n    return 1;\n  }\n}\n\n// ==== Функція на відмальовку бестселлерів\nfunction dataBestsellers(data, limit) {\n  elements.topBooksList.innerHTML = '';\n  elements.booksTitleContainer.innerHTML = '';\n\n  const dataBestsellers = data\n    .map(elem => {\n      let cardStarterMarkup = `<li><h2 class=\"gallery-title\">${elem.list_name}</h2>\n    <ul class=\"gallery-book-list\" data-filter=\"${elem.list_name}\">`;\n      let booksArray = [];\n\n      for (let i = 0; i < limit && i < elem.books.length; i++) {\n        let book = createBookCard(elem, i);\n        booksArray.push(book);\n      }\n\n      const seeMoreBtn = `<button class=\"see-more-btn\" data-filter=\"${elem.list_name}\" type=\"button\">See More</button>`;\n      const booksTemplate = booksArray.join(' ');\n      const categoryMarkup =\n        cardStarterMarkup + booksTemplate + '</ul>' + seeMoreBtn + '</li>';\n      return categoryMarkup;\n    })\n    .join(' ');\n\n  elements.topBooksList.innerHTML = dataBestsellers;\n\n  const dataMarkupTitle = `<h2 class=\"top-books-title\">Best Sellers <span class=\"colortext\">Books</span></h2>`;\n  elements.booksTitleContainer.innerHTML = dataMarkupTitle;\n\n  onSeeMoreBtn();\n}\n\n// === Додаємо слухача подій на кожну кнопку наприкінці категорій книг\nfunction onSeeMoreBtn() {\n  const seeMoreBtns = document.querySelectorAll('.see-more-btn');\n  seeMoreBtns.forEach(btn => {\n    btn.addEventListener('click', onFiltred);\n  });\n}\n\n// === Функція опрацювання кліку\nasync function onFiltred(event) {\n  event.preventDefault();\n  // === Ховаємо всі категорії\n  const allCategories = document.querySelectorAll('.gallery-book-list');\n  allCategories.forEach(category => {\n    category.style.display = 'none';\n  });\n  let categoryName = event.target.dataset['filter'];\n  // === Відображаємо тільки вибрану категорію\n  const selectedCategory = document.querySelector(\n    `ul[data-filter=\"${categoryName}\"]`\n  );\n  selectedCategory.style.display = 'block';\n\n  // === Видаляємо решту категорій\n  const allCategoryItems = document.querySelectorAll('.top-books-list > li');\n  allCategoryItems.forEach(item => {\n    if (item.querySelector(`ul[data-filter=\"${categoryName}\"]`) === null) {\n      item.remove();\n    }\n  });\n\n  // === Шукаємо і ховаємо кнопку в обраній категорії\n  const selectedCategoryBtn =\n    selectedCategory.parentElement.querySelector('.see-more-btn');\n  selectedCategoryBtn.style.display = 'none';\n\n  if (categoryName !== 'Best Sellers Books') {\n    const booksByCategory = await booksAPI.getBooksByCategory(categoryName);\n    renderMoreBooks(booksByCategory, categoryName);\n  }\n}\n\n// === Функція відмальовує книги обраної категорії\nfunction renderMoreBooks(books, dataAttr) {\n  const categoryContainer = document.querySelector(\n    `ul[data-filter=\"${dataAttr}\"]`\n  );\n\n  const booksMarkup = books\n    .map(\n      book => `\n    <li class='gallery-book-item' data-bookid=\"${book._id}\">\n      <a class=\"gallery-book-link\">\n        <div class=\"preview\">\n          <img class=\"gallery-book-img\" data-id=\"${book._id}\" src=\"${book.book_image}\" alt=\"${book.title}\">\n          <div class=\"actions-card\">\n            <p class=\"action-text\">quick view</p>\n          </div>\n        </div>\n        <div class=\"content\">\n          <h3 class=\"gallery-book-name\">${book.title}</h3>\n          <h4 class=\"gallery-book-text\">${book.author}</h4>\n        </div>\n      </a>\n    </li>`\n    )\n    .join('');\n\n  categoryContainer.innerHTML = booksMarkup;\n}\n\n//===== Зміна кількості книг до відмальовки при зміні ширини екрану\nwindow.addEventListener('resize', () => {\n  let limit = calculateLimit(window.innerWidth);\n  renderBestsellers(limit);\n});\n","import { BooksAPI } from './fetchAPI';\nimport { renderBestsellers } from './bestsellers';\nimport { renderCategory } from './renderCategory';\n\nconst booksAPI = new BooksAPI();\nconst listContainer = document.getElementById('category-list');\nconst allCategories = document.getElementById('all-categories');\n\ndocument.addEventListener('DOMContentLoaded', async function () {\n  const categories = await booksAPI.getCategoryList();\n  displayCategories(categories);\n\n  const allCategories = document.getElementById('all-categories');\n  allCategories.classList.add('active');\n\n  // === Обробка кліку по категорії \"All Categories\"\n  allCategories.addEventListener('click', function () {\n    renderBestsellers();\n  });\n});\n\n// === Створення розмітки для списку категорій книг\nfunction displayCategories(categories) {\n  const allCategoriesItem =\n    '<li class=\"category-item\" id=\"all-categories\" >All categories</li>';\n  const categoryMarkup = categories\n    .map(category => {\n      return `<li class=\"category-item\">${category.list_name}</li>`;\n    })\n    .join('');\n\n  listContainer.innerHTML = allCategoriesItem + categoryMarkup;\n\n  // ==== Створення слухача подій і обробка кліку по категорії із списку\n  listContainer.addEventListener('click', function (event) {\n    if (event.target.classList.contains('category-item')) {\n      // ====Видалємо клас \"active\" з усіх елементів списку\n      const categoryItems = document.querySelectorAll('.category-item');\n      categoryItems.forEach(item => {\n        item.classList.remove('active');\n      });\n\n      // === Додаємо клас \"active\" до елементу списку, на якому був клік\n      event.target.classList.add('active');\n\n      const categoryName = event.target.textContent;\n      renderCategory(categoryName);\n    }\n  });\n}\n","import { renderBestsellers } from './bestsellers.js'\n\nrenderBestsellers();","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { isBookAlreadyExist, deleteFromLS, saveToLS } from './localStorage';\n\nimport { BookAPI } from './fetchAPI';\n\nconst bookAPI = new BookAPI();\n\ndocument.querySelector('.gallery-list').addEventListener('click', async e => {\n  const bookId = e.target.parentNode.getAttribute('id');\n  const book = await bookAPI.fetchBookById(bookId);\n  showBookDetails(book);\n});\n\nexport const showBookDetails = bookData => {\n  let escHandlerFn;\n  let closeHandlerFn;\n\n  const template = document.querySelector('#modal-template');\n  const lightbox = new basicLightbox.create(template, {\n    onShow: instance => {\n      document.body.classList.add('modal-opened');\n      escHandlerFn = event => {\n        if (event.key === 'Escape') {\n          instance.close();\n        }\n      };\n      document.addEventListener('keydown', escHandlerFn);\n      closeHandlerFn = e => {\n        document.body.classList.remove('modal-opened');\n        instance.close();\n      };\n      instance\n        .element()\n        .querySelector('.modal-close')\n        .addEventListener('click', closeHandlerFn);\n    },\n    onClose: instance => {\n      document.removeEventListener('keydown', escHandlerFn);\n      instance\n        .element()\n        .querySelector('.modal-close')\n        .removeEventListener('click', closeHandlerFn);\n    },\n  });\n  const modalBody = lightbox.element();\n\n  modalBody.querySelector('.book-img').src = bookData.book_image;\n  modalBody.querySelector('.book-name').innerText = bookData.title;\n  modalBody.querySelector('.book-author').innerText = bookData.author;\n  modalBody.querySelector('.book-description').innerText = bookData.description;\n  modalBody.querySelector('.book-description').innerText = bookData.description;\n\n  bookData.buy_links.forEach(link => {\n    if (link.name === 'Amazon') {\n      modalBody.querySelector('.book-links-amazon').href = link.url;\n    } else if (link.name === 'Apple Books') {\n      modalBody.querySelector('.book-links-applebook').href = link.url;\n    }\n  });\n\n  const addToShoppingListElement = modalBody.querySelector('.addToList');\n  const removeFromShoppingListElement =\n    modalBody.querySelector('.removeFromList');\n\n  if (isBookAlreadyExist(bookData._id)) {\n    // If book already in shopping list\n\n    addToShoppingListElement.classList.add('hidden');\n    removeFromShoppingListElement.classList.remove('hidden');\n  }\n\n  addToShoppingListElement.addEventListener('click', e => {\n    e.preventDefault();\n    saveToLS(bookData);\n\n    modalBody.querySelector('.removeFromList-info').classList.remove('hidden');\n    addToShoppingListElement.classList.add('hidden');\n    removeFromShoppingListElement.classList.remove('hidden');\n  });\n\n  removeFromShoppingListElement.addEventListener('click', e => {\n    e.preventDefault();\n    deleteFromLS(bookData._id);\n\n    modalBody.querySelector('.removeFromList-info').classList.add('hidden');\n    addToShoppingListElement.classList.remove('hidden');\n    removeFromShoppingListElement.classList.add('hidden');\n  });\n\n  lightbox.show();\n};\n","\nlet localStorageTheme = localStorage.getItem('theme');\nconst switcher = document.querySelector('#themeSwitch');\ndocument.documentElement.getAttribute('data-theme');\n\nswitcher.addEventListener('click', () => {\n    switcher.checked ? setDarkTheme() : setLightTheme();\n});\n\nfunction setThemeColor(){\n    localStorageTheme === 'dark' ? setDarkTheme() : setLightTheme();\n};\n\n\nfunction setDarkTheme() {\n    switcher.checked = true;\n    localStorage.setItem('theme', 'dark');\n   document.documentElement.setAttribute('data-theme','dark');\n};\n\nfunction setLightTheme() {\n    switcher.checked = false;\n    localStorage.setItem('theme', 'light');\ndocument.documentElement.setAttribute('data-theme','light');\n}\n\nsetThemeColor();"],"names":["themeSwitch","logoIcon","currentTheme","buttonClose","buttonMenu","modalMenu","openMobileMenu","element","closeMobileMenu","BooksAPI","url","axios","error","selectedCategory","bookId","BookAPI","createBookCard","elem","i","booksAPI","elements","renderCategory","categoryName","categoryTitle","data","dataCategory","booksMarkup","book","STORAGE_KEY","isBookAlreadyExist","books","loadFromLS","saveToLS","value","storageDefault","jsonData","deleteFromLS","filteredBooks","renderBestsellers","limit","calculateLimit","dataBestsellers","screenWidth","cardStarterMarkup","booksArray","seeMoreBtn","booksTemplate","dataMarkupTitle","onSeeMoreBtn","btn","onFiltred","event","category","item","selectedCategoryBtn","booksByCategory","renderMoreBooks","dataAttr","categoryContainer","listContainer","categories","displayCategories","allCategories","allCategoriesItem","categoryMarkup","bookAPI","e","showBookDetails","bookData","escHandlerFn","closeHandlerFn","template","lightbox","basicLightbox.create","instance","modalBody","link","addToShoppingListElement","removeFromShoppingListElement","localStorageTheme","switcher","setDarkTheme","setLightTheme","setThemeColor"],"mappings":"6vBAEA,MAAMA,EAAc,SAAS,eAAe,aAAa,EAEzDA,EAAY,iBAAiB,SAAU,UAAY,CACjD,MAAMC,EAAW,SAAS,cAAc,gBAAgB,EACpD,KAAK,QACPA,EAAS,aAAa,OAAQ,iCAAiC,EAE/DA,EAAS,aAAa,OAAQ,kCAAkC,CAEpE,CAAC,EAGD,OAAO,iBAAiB,mBAAoB,UAAY,CACtD,MAAMC,EAAe,aAAa,QAAQ,OAAO,EAC7CA,IACF,SAAS,KAAK,UAAU,IAAIA,CAAY,EACpCA,IAAiB,eACnBF,EAAY,QAAU,IAG5B,CAAC,EAGDA,EAAY,iBAAiB,SAAU,UAAY,CAC7C,KAAK,SACP,SAAS,KAAK,UAAU,IAAI,YAAY,EACxC,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5C,aAAa,QAAQ,QAAS,YAAY,IAE1C,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3C,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,aAAa,QAAQ,QAAS,aAAa,EAE/C,CAAC,EA8DM,MAAMG,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAa,SAAS,cAAc,cAAc,EACzDC,EAAY,SAAS,iBAAiB,eAAe,EAI3D,SAASC,GAAiB,CAExBF,EAAW,UAAU,IAAI,QAAQ,EACjCD,EAAY,UAAU,OAAO,QAAQ,EAErCE,EAAU,QAASE,GAAY,CAC7BA,EAAQ,MAAM,QAAU,QACxBA,EAAQ,UAAU,IAAI,SAAS,CACnC,CAAG,CACH,CAEAH,EAAW,iBAAiB,QAASE,CAAc,EAInD,SAASE,GAAkB,CACzBJ,EAAW,UAAU,OAAO,QAAQ,EACpCD,EAAY,UAAU,IAAI,QAAQ,EAClCE,EAAU,QAASE,GAAY,CAC7BA,EAAQ,MAAM,QAAU,OACxBA,EAAQ,UAAU,OAAO,SAAS,CACtC,CAAG,CACH,CAGAJ,EAAY,iBAAiB,QAASK,CAAe,EC9H9C,MAAMC,CAAS,CACpB,aAAc,CACZ,KAAK,SAAW,4CAChB,KAAK,mBAAqB,aAC1B,KAAK,kBAAoB,sBACzB,KAAK,uBAAyB,gBAC/B,CAGD,MAAM,aAAc,CAClB,GAAI,CACF,MAAMC,EAAM,GAAG,KAAK,QAAQ,GAAG,KAAK,kBAAkB,GAGtD,OAFiB,MAAMC,EAAM,IAAID,CAAG,GAEpB,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,gCAAiCA,CAAK,EAC9CA,CACP,CACF,CAGD,MAAM,mBAAmBC,EAAkB,CACzC,GAAI,CACF,MAAMH,EAAM,GAAG,KAAK,QAAQ,GAAG,KAAK,iBAAiB,GAAGG,CAAgB,GAGxE,OAFiB,MAAMF,EAAM,IAAID,CAAG,GAEpB,IACjB,OAAQE,EAAO,CACd,cAAQ,MACN,sCAAsCC,CAAgB,KACtDD,CACR,EACYA,CACP,CACF,CAGD,MAAM,WAAWE,EAAQ,CACvB,GAAI,CACF,MAAMJ,EAAM,GAAG,KAAK,QAAQ,IAAII,CAAM,GAGtC,OAFiB,MAAMH,EAAM,IAAID,CAAG,GAEpB,IACjB,OAAQE,EAAO,CACd,cAAQ,MACN,4CAA4CE,CAAM,KAClDF,CACR,EACYA,CACP,CACF,CAGD,MAAM,iBAAkB,CACtB,GAAI,CACF,MAAMF,EAAM,GAAG,KAAK,QAAQ,GAAG,KAAK,sBAAsB,GAG1D,OAFiB,MAAMC,EAAM,IAAID,CAAG,GAEpB,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,gCAAiCA,CAAK,EAC9CA,CACP,CACF,CACH,CACA,MAAMG,CAAQ,CACZ,MAAM,iBAAkB,CACtB,GAAI,CAMF,OAJiB,MAAMJ,EAAM,IAC3B,yDACR,GAEsB,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACP,CACF,CAED,MAAM,oBAAqB,CACzB,GAAI,CAIF,OAHiB,MAAMD,EAAM,IAC3B,qDACR,GACsB,IACjB,OAAQC,EAAO,CACd,cAAQ,MAAM,iCAAkCA,CAAK,EAC/CA,CACP,CACF,CAED,MAAM,qBAAqBC,EAAkB,CAC3C,GAAI,CAIF,OAHiB,MAAMF,EAAM,IAC3B,+DAA+DE,CAAgB,EACvF,GACsB,IACjB,OAAQD,EAAO,CACd,cAAQ,MAAM,oCAAqCA,CAAK,EAClDA,CACP,CACF,CAED,MAAM,cAAcE,EAAQ,CAC1B,GAAI,CAIF,OAHiB,MAAMH,EAAM,IAC3B,6CAA6CG,CAAM,EAC3D,GACsB,IACjB,OAAQF,EAAO,CACd,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACP,CACF,CACH,CCrHO,SAASI,EAAeC,EAAMC,EAAG,CAgBpC,MAfW;AAAA,kEACmDD,EAAK,MAAMC,CAAC,EAAE,GAAG;AAAA;AAAA,mDAEhCD,EAAK,MAAMC,CAAC,EAAE,GAAG,UAAUD,EAAK,MAAMC,CAAC,EAAE,UAAU,UAAUD,EAAK,MAAMC,CAAC,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMvFD,EAAK,MAAMC,CAAC,EAAE,KAAK;AAAA,4CACnBD,EAAK,MAAMC,CAAC,EAAE,MAAM;AAAA;AAAA;AAAA,UAMhE,CChBA,MAAMC,EAAW,IAAIV,EAERW,EAAW,CACtB,SAAU,SAAS,cAAc,YAAY,EAC7C,aAAc,SAAS,cAAc,iBAAiB,EACtD,oBAAqB,SAAS,cAAc,wBAAwB,CACtE,EAGO,SAASC,EAAeC,EAAc,CAC3CF,EAAS,aAAa,UAAY,GAClCA,EAAS,oBAAoB,UAAY,GAEzC,MAAMG,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,YAAcD,EAC5BF,EAAS,oBAAoB,YAAYG,CAAa,EAEtDJ,EACG,mBAAmBG,CAAY,EAC/B,KAAKE,GAAQC,EAAaD,CAAI,CAAC,EAC/B,MAAMZ,GAAS,QAAQ,MAAM,4BAA6BA,CAAK,CAAC,CACrE,CAGA,SAASa,EAAaD,EAAM,CAC1B,MAAME,EAAcF,EACjB,IACCG,GACE,8CAA8CA,EAAK,GAAG;AAAA;AAAA;AAAA,qDAGTA,EAAK,GAAG,UAAUA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAM9DA,EAAK,KAAK;AAAA,4CACVA,EAAK,MAAM;AAAA;AAAA;AAAA,cAIlD,EACA,KAAK,EAAE,EAEVP,EAAS,SAAS,UAAYM,CAChC,CChDA,MAAME,EAAc,eAEb,SAASC,EAAmBf,EAAQ,CACvC,MAAMgB,EAAQC,IACd,MAAO,CAAC,EAACD,GAAA,MAAAA,EAAO,KAAMH,GACdA,EAAK,MAAQb,GAKzB,CAEO,SAASkB,EAASC,EAAO,CAC5B,MAAMC,EAAiB,CAAA,EACjBJ,EAAQC,IACd,GAAID,EACKD,EAAmBI,EAAM,GAAG,GAC7BH,EAAM,KAAKG,CAAK,EAEpB,aAAa,QAAQL,EAAa,KAAK,UAAUE,CAAK,CAAC,MACpD,CACHI,EAAe,KAAKD,CAAK,EACzB,MAAME,EAAW,KAAK,UAAUD,CAAc,EAC9C,aAAa,QAAQN,EAAaO,CAAQ,CAC7C,CACA,CAEE,SAASC,EAAatB,EAAQ,CAEjC,MAAMuB,EADYN,EAAsB,EACZ,OAAOJ,GAAQA,EAAK,MAAQb,CAAM,EAC9D,aAAa,QAAQc,EAAa,KAAK,UAAUS,CAAa,CAAC,CAC9D,CAEE,SAASN,GAAa,CACzB,MAAMP,EAAO,aAAa,QAAQI,CAAW,EAC7C,GAAI,CAEA,OADe,KAAK,MAAMJ,CAAI,CAEtC,MAAY,CACJ,OAAOA,CACV,CACL,CC7BA,MAAML,EAAW,IAAIV,EACA,SAAS,cAAc,iBAAiB,EACjC,SAAS,cAAc,wBAAwB,EAEpE,SAAS6B,GAAoB,CAElC,IAAIC,EAAQC,EAAe,OAAO,UAAU,EAG5CrB,EACG,YAAa,EACb,KAAKK,GAAQiB,EAAgBjB,EAAMe,CAAK,CAAC,EACzC,MAAM3B,GAAS,QAAQ,MAAM,4BAA6BA,CAAK,CAAC,CACrE,CAGA,SAAS4B,EAAeE,EAAa,CACnC,OAAIA,GAAe,KACV,EACEA,GAAe,IACjB,EAEA,CAEX,CAGA,SAASD,EAAgBjB,EAAMe,EAAO,CACpCnB,EAAS,aAAa,UAAY,GAClCA,EAAS,oBAAoB,UAAY,GAEzC,MAAMqB,EAAkBjB,EACrB,IAAIP,GAAQ,CACX,IAAI0B,EAAoB,iCAAiC1B,EAAK,SAAS;AAAA,iDAC5BA,EAAK,SAAS,KACrD2B,EAAa,CAAA,EAEjB,QAAS1B,EAAI,EAAGA,EAAIqB,GAASrB,EAAID,EAAK,MAAM,OAAQC,IAAK,CACvD,IAAIS,EAAOX,EAAeC,EAAMC,CAAC,EACjC0B,EAAW,KAAKjB,CAAI,CACrB,CAED,MAAMkB,EAAa,6CAA6C5B,EAAK,SAAS,oCACxE6B,EAAgBF,EAAW,KAAK,GAAG,EAGzC,OADED,EAAoBG,EAAgB,QAAUD,EAAa,OAEnE,CAAK,EACA,KAAK,GAAG,EAEXzB,EAAS,aAAa,UAAYqB,EAElC,MAAMM,EAAkB,qFACxB3B,EAAS,oBAAoB,UAAY2B,EAEzCC,GACF,CAGA,SAASA,GAAe,CACF,SAAS,iBAAiB,eAAe,EACjD,QAAQC,GAAO,CACzBA,EAAI,iBAAiB,QAASC,CAAS,CAC3C,CAAG,CACH,CAGA,eAAeA,EAAUC,EAAO,CAC9BA,EAAM,eAAc,EAEE,SAAS,iBAAiB,oBAAoB,EACtD,QAAQC,GAAY,CAChCA,EAAS,MAAM,QAAU,MAC7B,CAAG,EACD,IAAI9B,EAAe6B,EAAM,OAAO,QAAQ,OAExC,MAAMtC,EAAmB,SAAS,cAChC,mBAAmBS,CAAY,IACnC,EACET,EAAiB,MAAM,QAAU,QAGR,SAAS,iBAAiB,sBAAsB,EACxD,QAAQwC,GAAQ,CAC3BA,EAAK,cAAc,mBAAmB/B,CAAY,IAAI,IAAM,MAC9D+B,EAAK,OAAM,CAEjB,CAAG,EAGD,MAAMC,EACJzC,EAAiB,cAAc,cAAc,eAAe,EAG9D,GAFAyC,EAAoB,MAAM,QAAU,OAEhChC,IAAiB,qBAAsB,CACzC,MAAMiC,EAAkB,MAAMpC,EAAS,mBAAmBG,CAAY,EACtEkC,EAAgBD,EAAiBjC,CAAY,CAC9C,CACH,CAGA,SAASkC,EAAgB1B,EAAO2B,EAAU,CACxC,MAAMC,EAAoB,SAAS,cACjC,mBAAmBD,CAAQ,IAC/B,EAEQ/B,EAAcI,EACjB,IACCH,GAAQ;AAAA,iDACmCA,EAAK,GAAG;AAAA;AAAA;AAAA,mDAGNA,EAAK,GAAG,UAAUA,EAAK,UAAU,UAAUA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAM9DA,EAAK,KAAK;AAAA,0CACVA,EAAK,MAAM;AAAA;AAAA;AAAA,UAIhD,EACA,KAAK,EAAE,EAEV+B,EAAkB,UAAYhC,CAChC,CAGA,OAAO,iBAAiB,SAAU,IAAM,CAEtCY,EAAuB,CACzB,CAAC,EC7ID,MAAMnB,EAAW,IAAIV,EACfkD,EAAgB,SAAS,eAAe,eAAe,EACvC,SAAS,eAAe,gBAAgB,EAE9D,SAAS,iBAAiB,mBAAoB,gBAAkB,CAC9D,MAAMC,EAAa,MAAMzC,EAAS,kBAClC0C,EAAkBD,CAAU,EAE5B,MAAME,EAAgB,SAAS,eAAe,gBAAgB,EAC9DA,EAAc,UAAU,IAAI,QAAQ,EAGpCA,EAAc,iBAAiB,QAAS,UAAY,CAClDxB,GACJ,CAAG,CACH,CAAC,EAGD,SAASuB,EAAkBD,EAAY,CACrC,MAAMG,EACJ,qEACIC,EAAiBJ,EACpB,IAAIR,GACI,6BAA6BA,EAAS,SAAS,OACvD,EACA,KAAK,EAAE,EAEVO,EAAc,UAAYI,EAAoBC,EAG9CL,EAAc,iBAAiB,QAAS,SAAUR,EAAO,CACvD,GAAIA,EAAM,OAAO,UAAU,SAAS,eAAe,EAAG,CAE9B,SAAS,iBAAiB,gBAAgB,EAClD,QAAQE,GAAQ,CAC5BA,EAAK,UAAU,OAAO,QAAQ,CACtC,CAAO,EAGDF,EAAM,OAAO,UAAU,IAAI,QAAQ,EAEnC,MAAM7B,EAAe6B,EAAM,OAAO,YAClC9B,EAAeC,CAAY,CAC5B,CACL,CAAG,CACH,CC/CAgB,EAAmB,ECInB,MAAM2B,EAAU,IAAIlD,EAEpB,SAAS,cAAc,eAAe,EAAE,iBAAiB,QAAS,MAAMmD,GAAK,CAC3E,MAAMpD,EAASoD,EAAE,OAAO,WAAW,aAAa,IAAI,EAC9CvC,EAAO,MAAMsC,EAAQ,cAAcnD,CAAM,EAC/CqD,EAAgBxC,CAAI,CACtB,CAAC,EAEM,MAAMwC,EAAkBC,GAAY,CACzC,IAAIC,EACAC,EAEJ,MAAMC,EAAW,SAAS,cAAc,iBAAiB,EACnDC,EAAW,IAAIC,EAAoB,OAACF,EAAU,CAClD,OAAQG,GAAY,CAClB,SAAS,KAAK,UAAU,IAAI,cAAc,EAC1CL,EAAelB,GAAS,CAClBA,EAAM,MAAQ,UAChBuB,EAAS,MAAK,CAExB,EACM,SAAS,iBAAiB,UAAWL,CAAY,EACjDC,EAAiBJ,GAAK,CACpB,SAAS,KAAK,UAAU,OAAO,cAAc,EAC7CQ,EAAS,MAAK,CACtB,EACMA,EACG,QAAS,EACT,cAAc,cAAc,EAC5B,iBAAiB,QAASJ,CAAc,CAC5C,EACD,QAASI,GAAY,CACnB,SAAS,oBAAoB,UAAWL,CAAY,EACpDK,EACG,QAAS,EACT,cAAc,cAAc,EAC5B,oBAAoB,QAASJ,CAAc,CAC/C,CACL,CAAG,EACKK,EAAYH,EAAS,UAE3BG,EAAU,cAAc,WAAW,EAAE,IAAMP,EAAS,WACpDO,EAAU,cAAc,YAAY,EAAE,UAAYP,EAAS,MAC3DO,EAAU,cAAc,cAAc,EAAE,UAAYP,EAAS,OAC7DO,EAAU,cAAc,mBAAmB,EAAE,UAAYP,EAAS,YAClEO,EAAU,cAAc,mBAAmB,EAAE,UAAYP,EAAS,YAElEA,EAAS,UAAU,QAAQQ,GAAQ,CAC7BA,EAAK,OAAS,SAChBD,EAAU,cAAc,oBAAoB,EAAE,KAAOC,EAAK,IACjDA,EAAK,OAAS,gBACvBD,EAAU,cAAc,uBAAuB,EAAE,KAAOC,EAAK,IAEnE,CAAG,EAED,MAAMC,EAA2BF,EAAU,cAAc,YAAY,EAC/DG,EACJH,EAAU,cAAc,iBAAiB,EAEvC9C,EAAmBuC,EAAS,GAAG,IAGjCS,EAAyB,UAAU,IAAI,QAAQ,EAC/CC,EAA8B,UAAU,OAAO,QAAQ,GAGzDD,EAAyB,iBAAiB,QAASX,GAAK,CACtDA,EAAE,eAAc,EAChBlC,EAASoC,CAAQ,EAEjBO,EAAU,cAAc,sBAAsB,EAAE,UAAU,OAAO,QAAQ,EACzEE,EAAyB,UAAU,IAAI,QAAQ,EAC/CC,EAA8B,UAAU,OAAO,QAAQ,CAC3D,CAAG,EAEDA,EAA8B,iBAAiB,QAASZ,GAAK,CAC3DA,EAAE,eAAc,EAChB9B,EAAagC,EAAS,GAAG,EAEzBO,EAAU,cAAc,sBAAsB,EAAE,UAAU,IAAI,QAAQ,EACtEE,EAAyB,UAAU,OAAO,QAAQ,EAClDC,EAA8B,UAAU,IAAI,QAAQ,CACxD,CAAG,EAEDN,EAAS,KAAI,CACf,EC1FA,IAAIO,EAAoB,aAAa,QAAQ,OAAO,EACpD,MAAMC,EAAW,SAAS,cAAc,cAAc,EACtD,SAAS,gBAAgB,aAAa,YAAY,EAElDA,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,QAAUC,EAAc,EAAGC,EAAa,CACrD,CAAC,EAED,SAASC,GAAe,CACpBJ,IAAsB,OAASE,EAAc,EAAGC,EAAa,CACjE,CAGA,SAASD,GAAe,CACpBD,EAAS,QAAU,GACnB,aAAa,QAAQ,QAAS,MAAM,EACrC,SAAS,gBAAgB,aAAa,aAAa,MAAM,CAC5D,CAEA,SAASE,GAAgB,CACrBF,EAAS,QAAU,GACnB,aAAa,QAAQ,QAAS,OAAO,EACzC,SAAS,gBAAgB,aAAa,aAAa,OAAO,CAC1D,CAEAG,EAAe"}